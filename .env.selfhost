# ===================================================================
# CheckTick Self-Hosting Configuration
# Copy this file to .env and customize for your deployment
# ===================================================================

# ========================
# Database Configuration
# ========================
# Option 1: Use included PostgreSQL container (default, easiest)
#   - Just use docker-compose.registry.yml
#   - Database runs in a container with persistent volume
#   - Good for: Small/medium deployments, single-server setups
#
# Option 2: External managed database (AWS RDS, Azure Database, etc.)
#   - Set DATABASE_URL below and use docker-compose.external-db.yml
#   - Good for: Production deployments, high availability
#
# For included PostgreSQL (docker-compose.registry.yml):
POSTGRES_DB=checktick
POSTGRES_USER=checktick
POSTGRES_PASSWORD=change-this-secure-password

# For external database (docker-compose.external-db.yml):
# Uncomment and set your connection string:
# DATABASE_URL=postgresql://username:password@your-db-host:5432/checktick
# Examples:
#   AWS RDS:     postgresql://user:pass@rds-instance.region.rds.amazonaws.com:5432/checktick
#   Azure DB:    postgresql://user:pass@server.postgres.database.azure.com:5432/checktick?sslmode=require
#   Google Cloud: postgresql://user:pass@/checktick?host=/cloudsql/project:region:instance

# ========================
# REQUIRED: Basic Setup
# ========================
# Generate with: openssl rand -base64 50
SECRET_KEY=your-very-long-random-secret-key-here
DEBUG=False
ALLOWED_HOSTS=yourdomain.com,localhost
CSRF_TRUSTED_ORIGINS=https://yourdomain.com
SECURE_SSL_REDIRECT=True

# ========================
# REQUIRED: Branding
# ========================
# Site title shown in browser and header
BRAND_TITLE=Your Survey Platform

# Theme (checktick-light or checktick-dark)
BRAND_THEME=checktick-light

# Icon URLs (optional - can upload via Django admin)
# BRAND_ICON_URL=/static/icons/checktick_brand_favicon.svg
# BRAND_ICON_URL_DARK=
# BRAND_ICON_ALT=Your Survey Platform
# BRAND_ICON_TITLE=Your Survey Platform
# BRAND_ICON_SIZE_CLASS=w-6 h-6
# BRAND_ICON_SIZE=

# Theme presets (daisyUI themes)
# BRAND_THEME_PRESET_LIGHT=pastel
# BRAND_THEME_PRESET_DARK=dim

# Optional: Customize fonts
# BRAND_FONT_HEADING='Your Font', sans-serif
# BRAND_FONT_BODY='Your Body Font', serif
# BRAND_FONT_CSS_URL=https://fonts.googleapis.com/css2?family=...

# Advanced: Custom theme CSS (from daisyUI Theme Generator)
# BRAND_THEME_CSS_LIGHT=
# BRAND_THEME_CSS_DARK=

# ========================
# REQUIRED FOR PRODUCTION: Email Provider
# ========================
# Email is REQUIRED for:
#   - User invitations and survey invites
#   - Password reset functionality
#   - System notifications
# Without email configured, CheckTick will start but users cannot be invited

DEFAULT_FROM_EMAIL=no-reply@yourdomain.com
SERVER_EMAIL=server@yourdomain.com

# Choose ONE email provider below and uncomment its settings:

# --- Gmail (easiest for testing) ---
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=youremail@gmail.com
EMAIL_HOST_PASSWORD=your-app-specific-password

# --- Mailgun (recommended for production) ---
# EMAIL_HOST=smtp.eu.mailgun.org
# EMAIL_PORT=587
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER=postmaster@mg.yourdomain.com
# EMAIL_HOST_PASSWORD=your-mailgun-smtp-password

# ========================
# OPTIONAL: Authentication
# ========================
# Enable Google or Microsoft 365 login

# Google OIDC
OIDC_RP_CLIENT_ID_GOOGLE=your-google-client-id
OIDC_RP_CLIENT_SECRET_GOOGLE=your-google-client-secret

# Microsoft 365 / Azure AD
OIDC_RP_CLIENT_ID_AZURE=your-azure-client-id
OIDC_RP_CLIENT_SECRET_AZURE=your-azure-client-secret
OIDC_OP_TENANT_ID_AZURE=your-tenant-id

# ========================
# OPTIONAL: Spam Protection
# ========================
# Get free keys from https://hcaptcha.com
HCAPTCHA_SITEKEY=your-site-key
HCAPTCHA_SECRET=your-secret-key

# ========================
# REQUIRED: External Datasets
# ========================
# Used for prefilled dropdown lists (hospitals, NHS trusts, etc.)
# These datasets provide professional field options like NHS trusts, hospitals, etc.
#
# Get your free API key from RCPCH: https://api.rcpch.ac.uk
EXTERNAL_DATASET_API_URL=https://api.rcpch.ac.uk
EXTERNAL_DATASET_API_KEY=your-rcpch-api-key-here

# ========================
# OPTIONAL: AI-Assisted Survey Generation
# ========================
# Enable AI features for survey creation assistance
# Works with any OpenAI-compatible API endpoint (Ollama, OpenAI, Azure OpenAI, etc.)
#
# Example endpoints:
#   - Local Ollama:    http://localhost:11434/v1/chat/completions
#   - OpenAI:          https://api.openai.com/v1/chat/completions
#   - Azure OpenAI:    https://your-resource.openai.azure.com/openai/deployments/your-model/chat/completions?api-version=2024-02-15-preview
#   - Custom endpoint: https://your-llm-service.com/v1/chat/completions
#
# LLM_URL=https://api.openai.com/v1/chat/completions
# LLM_API_KEY=your-api-key-here
#
# Authentication type: 'apim' for Azure API Management (Ocp-Apim-Subscription-Key header)
#                      'bearer' for standard OpenAI (Authorization: Bearer header)
# LLM_AUTH_TYPE=apim

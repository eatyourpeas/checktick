@import "tailwindcss";
@plugin "daisyui" {
  themes: all;
  /* Excluding properties to avoid Tailwind CSS v4 build warning about @property --radialprogress
   * See: https://github.com/saadeghi/daisyui/issues/3882
   * WARNING: Remove this exclusion if:
   *   - The issue is fixed in future versions of Tailwind/daisyUI
   *   - You need to use the radial-progress component
   */
  exclude: properties;
}
@plugin "@tailwindcss/typography";

/*
 * Custom checktick-light and checktick-dark themes are now dynamically generated
 * from environment variables (default: lofi for light, dim for dark)
 * or from Brand model settings in the database.
 *
 * These theme definitions are injected via inline <style> blocks in templates.
 */

@layer components {
  script[data-question-payload] {
    display: none;
  }

  .builder-question-card,
  .builder-editor-card {
    border: 1px solid color-mix(in oklch, var(--color-base-300) 70%, transparent);
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    transition: border-color 150ms ease, box-shadow 150ms ease,
      background-color 150ms ease;
  }

  .builder-question-card {
    background-color: var(--color-base-200);
    cursor: grab;
  }
  .builder-question-card:active {
    cursor: grabbing;
  }

  .builder-editor-card {
    background-color: var(--color-base-100);
  }

  .builder-question-card:hover,
  .builder-question-card:focus-within {
    background-color: color-mix(in oklch, var(--color-base-200) 70%, var(--color-base-300) 30%);
  }

  .builder-question-card:active,
  .builder-question-card.sortable-chosen,
  .builder-question-card.sortable-ghost {
    background-color: color-mix(in oklch, var(--color-base-200) 55%, var(--color-base-300) 45%);
  }

  .builder-question-card.sortable-ghost {
    opacity: 0.9;
  }

  li.sortable-chosen .builder-question-card,
  li.sortable-ghost .builder-question-card {
    box-shadow: 0 10px 25px -15px rgba(34, 34, 55, 0.45),
      0 8px 12px -12px rgba(34, 34, 55, 0.4);
  }

  .builder-question-card.is-active,
  .builder-editor-card.is-active {
    border-width: 3px;
    border-color: var(--p);
    box-shadow: 0 0 0 1px color-mix(in oklch, var(--p) 35%, transparent);
  }

  .btn.builder-edit-button {
    background-color: var(--color-accent);
    border-color: color-mix(in oklch, var(--color-accent) 70%, transparent);
    color: var(--color-accent-content);
    transition: background-color 150ms ease, border-color 150ms ease,
      color 150ms ease;
  }

  .btn.builder-edit-button:hover {
    background-color: color-mix(in oklch, var(--color-accent) 85%, black 15%);
  }

  .btn.builder-edit-button.is-active {
    background-color: color-mix(in oklch, var(--color-accent) 55%, var(--color-primary) 45%);
    border-color: var(--color-primary);
    color: var(--pc);
  }

  [data-drag-ignore] {
    cursor: pointer;
  }

  /* DaisyUI 5 doesn't generate radio-primary/checkbox-primary classes, so we add them manually */
  .radio-primary {
    color: var(--color-primary);
  }

  .checkbox-primary {
    color: var(--color-primary);
  }
}

/*
 * Prose code block styling override for WCAG AA contrast compliance.
 * Tailwind Typography's default colors may not meet contrast requirements
 * with all daisyUI themes. These overrides use theme-aware CSS variables
 * to ensure sufficient contrast in both light and dark modes.
 * Placed outside @layer for higher specificity.
 */
.prose pre {
  background-color: var(--color-base-300) !important;
  color: var(--color-base-content) !important;
}

.prose pre code,
.prose pre code[class*="language-"] {
  background-color: transparent !important;
  color: inherit !important;
}

.prose :not(pre) > code {
  background-color: var(--color-base-200) !important;
  color: var(--color-base-content) !important;
  padding: 0.125rem 0.25rem;
  border-radius: 0.25rem;
}

/* stylelint-disable at-rule-no-unknown */
:root {
  --theme-root: ":root";
  --theme-list: "checktick-light" "checktick-dark";
}
/* stylelint-enable at-rule-no-unknown */
